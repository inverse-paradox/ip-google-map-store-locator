jQuery(function($){if($("#google-map").length>0){var map_id=$("#google-map").data("id"),map_type=$("#google-map").data("type");$("#gmsl_map .location_search").submit(function(){$("#google-map").html('<p style="width: 100%; text-align: center; position: absolute; top: 50%; margin: -15px 0 0;">Loading...</p>');var searched_address=$(this).find("input[type=search]").val();return setTimeout(function(){$.ajax({type:"POST",url:ajax_call.ajaxurl,data:{action:"map_loader",id:map_id,type:map_type,address:searched_address},error:function(data){console.log("fail")},success:function(data){var locations=JSON.parse(data),length=locations.length,half_type="";for($(".locations_return").html("<h3>Possible Matches:</h3>"),i=0;i<length;i++)half_type=i%2==0?" right":" left",$(".locations_return").append('<div class="spec_location half'+half_type+'"><h4>'+locations[i].title+"</h4><p>"+locations[i].address+'<br/><a class="directions" target="_blank" href="http://maps.google.com/?q='+locations[i].address+'">Directions</a></p></div>');return $("#google-map").google_map_it({locations:locations}),!1}})},1e3),!1}),$.ajax({type:"POST",url:ajax_call.ajaxurl,data:{action:"map_loader",id:map_id,type:map_type},error:function(data){console.log("fail")},success:function(data){var map_object=JSON.parse(data),locations=map_object.locations,styles=map_object.styles.colors,marker=map_object.styles.marker;$("#google-map").google_map_it({locations:locations,styles:styles,marker:marker})}})}}),function($){$.fn.google_map_it=function(options){var marker,i,locations_count,settings=$.extend({locations:[{title:"Title",lat:"41.6706",lng:"-71.2783"}],styles:[],marker:""},options),styles=JSON.parse(settings.styles),map_icon=settings.marker;return $(this).each(function(){var map,scrollwheel=$(this).data("scrollwheel"),bounds=new google.maps.LatLngBounds,mapOptions={zoom:4,maxZoom:15,scrollwheel:scrollwheel,styles:styles,mapTypeId:google.maps.MapTypeId.ROADMAP};locations_count=settings.locations.length,map=new google.maps.Map(document.getElementById("google-map"),mapOptions);new google.maps.InfoWindow;for(i=0;locations_count>i;i++)marker=new google.maps.Marker({position:new google.maps.LatLng(settings.locations[i].lat,settings.locations[i].lng),icon:map_icon,map:map}),bounds.extend(marker.position),google.maps.event.addListener(marker,"click",function(marker,i){var phone_number="";phone_number=""!=settings.locations[i].phone?'<p><strong>P:</strong>&nbsp;&nbsp;<a href="tel:'+settings.locations[i].phone+'">'+settings.locations[i].phone+"</a></p>":"";var info='<div class="info"><h3>'+settings.locations[i].title+"</h3><p>"+settings.locations[i].address+"</p>"+phone_number+'<div class="directions block"><a target="_blank"href="http://maps.google.com/?q='+settings.locations[i].address+'">Directions</a></div></div>',infobox=new InfoBox({content:info,disableAutoPan:!1,maxWidth:300,pixelOffset:new google.maps.Size(22,-45),zIndex:null,closeBoxMargin:"-10px -10px 0px 0px",infoBoxClearance:new google.maps.Size(1,1)});return function(){map.panTo(marker.getPosition()),infobox.setContent(info),infobox.open(map,marker)}}(marker,i));map.fitBounds(bounds)}),this}}(jQuery),function($){$.fn.select_it=function(options){var choices_array=[],count=0;$(this).each(function(){choices_array=[],count++;var placeholder,selected,select_check,current,onchange,tabindex,settings=$.extend({onchange:"none",onchange_url:"gallery-ajax.php",onchange_container:".gallery .carousel.block",returned_div:"toggled",placeholder:"...",tabindex:0},options),option_count=0;$(this).hide();$(this).html();tabindex=$(this).attr("tabindex")?$(this).attr("tabindex"):settings.tabindex,placeholder=$(this).data("placeholder")?$(this).data("placeholder"):$(this).parents("form").parents("div").hasClass("gform_wrapper")?$(this).find("option:first-child").text():settings.placeholder,$(this).find("option").each(function(){option_count++,1!=option_count&&$(this).is(":selected")&&(placeholder=$(this).text())}),onchange=$(this).data("onchange")?$(this).data("onchange"):settings.onchange,$(this).children("option").each(function(index){var choice_value=$(this).val(),choice_text=$(this).text();choices_array[index]=['<li rel="'+choice_value+'">'+choice_text+"</li>"]}),choices_array=choices_array.join("\r"),$(this).after('<div id="select_'+count+'" class="select_it"><div class="display" tabindex="'+tabindex+'"><span class="current_item">'+placeholder+'</span><span class="tab"></span></div><ul style="display: none;">'+choices_array+"</ul></div><!--/select_it-->"),$(".select_it .display").click(function(e){e.stopImmediatePropagation(),current=$(this).parents(".select_it").attr("id"),$("#"+current+" .display").hasClass("open")?($(".display").removeClass("open"),$(".select_it ul").hide()):($(".display").removeClass("open"),$(".select_it ul").hide(),$("#"+current+" .display").addClass("open"),$("#"+current+" ul").show())}),$(".select_it .display").keydown(function(e){e.stopImmediatePropagation(),current=$(this).parents(".select_it").attr("id");var list_count=$("#"+current+" ul li").length;if(console.log("code is:  "+e.keyCode+" items:  "+list_count),40==e.keyCode&&($("#"+current+" ul li.selected").next("li").length?($("#"+current+" ul li.selected").next().addClass("selected"),$("#"+current+" ul li.selected").first().removeClass("selected"),selected=$("#"+current+" ul li.selected").html(),$("#"+current+" .display .current_item").html(selected)):($("#"+current+" ul li").removeClass("selected"),$("#"+current+" ul li:first-child").addClass("selected"),selected=$("#"+current+" ul li.selected").html(),$("#"+current+" .display .current_item").html(selected)),$(this).parents("#"+current).prev("select").find("option").each(function(){select_check=$(this).val(),select_check==selected&&($(this).parents("select").find("option").removeAttr("selected"),$(this).attr("selected","selected"))})),38==e.keyCode&&($("#"+current+" ul li.selected").prev("li").length?($("#"+current+" ul li.selected").prev().addClass("selected"),$("#"+current+" ul li.selected").last().removeClass("selected"),selected=$("#"+current+" ul li.selected").html(),$("#"+current+" .display .current_item").html(selected)):($("#"+current+" ul li").removeClass("selected"),$("#"+current+" ul li:last-child").addClass("selected"),selected=$("#"+current+" ul li.selected").html(),$("#"+current+" .display .current_item").html(selected)),$(this).parents("#"+current).prev("select").find("option").each(function(){select_check=$(this).val(),select_check==selected&&($(this).parents("select").find("option").removeAttr("selected"),$(this).attr("selected","selected"))})),13==e.keyCode&&(selected=$("#"+current+" ul li.selected").html(),$("#"+current+" .display .current_item").html(selected)),9==e.keyCode){var next_tabindex=parseInt(tabindex)+1;$("[TabIndex='"+next_tabindex+"']").focus()}if(e.shiftKey&&9==e.keyCode){var prev_tabindex=parseInt(tabindex)-1;$("[TabIndex='"+prev_tabindex+"']").focus()}if(e.keyCode>=48&&e.keyCode<=90){console.log(e.keyCode);var character=String.fromCharCode(e.keyCode).toLowerCase();$("#"+current+" ul li").each(function(){var value=$(this).text().toLowerCase();character==value.charAt(0)&&(selected=$(this).attr("rel"),selected_text=$(this).html(),$("#"+current+" ul li").removeClass("selected"),$("#"+current+" ul").hide(),$(this).addClass("selected"),$(this).parents("#"+current).prev("select").find("option").each(function(){select_check=$(this).val(),select_check==selected&&($(this).parents("select").find("option").removeAttr("selected"),$(this).attr("selected","selected"))}))}),$("#"+current).children(".display").removeClass("open"),$("#"+current+" .display .current_item").html(selected),$("#"+current+" .display .current_item").html(selected_text)}return!1}),$(".select_it ul li").click(function(e){if(e.stopImmediatePropagation(),current=$(this).parents(".select_it").attr("id"),$("#"+current+" ul li").removeClass("selected"),$("#"+current+" ul").hide(),selected=$(this).attr("rel"),selected_text=$(this).html(),$(this).addClass("selected"),$(this).parents("#"+current).prev("select").find("option").each(function(){select_check=$(this).val(),select_check==selected&&($(this).parents("select").find("option").removeAttr("selected"),$(this).attr("selected","selected"))}),$("#"+current).children(".display").removeClass("open"),$("#"+current+" .display .current_item").html(selected),$("#"+current+" .display .current_item").html(selected_text),"toggle"==onchange){var toggled=$(this).attr("rel");$("."+settings.returned_div).hide(),$("#"+toggled).show(200)}if("load"==onchange){$(settings.onchange_container).html('<img class="loading" src="http://centerforautism.aycdemo.com/wp-content/themes/cfa_theme/images/loading.gif" />');var value=$(this).attr("rel");$.ajax({type:"POST",url:ajax_call.ajaxurl,data:{action:"gallery_loader",id:value},error:function(data){console.log("fail")},success:function(data){console.log("is ".data),$(settings.onchange_container).html(data),$(settings.onchange_container).data("owlCarousel").reinit($(".gallery").hasClass("photos_videos")?{itemsCustom:[[0,1],[400,2]]}:{itemsCustom:[[0,1],[480,2],[850,3],[1e3,4]]})}})}if("change_url"==onchange){$(".gallery .videos .video_container .video iframe").hide();var new_url=$(this).attr("rel");$(".gallery .videos .video_container .video iframe").after('<img class="loading" src="http://localhost/~webdesigner/cfa_site/wp-content/themes/cfa_theme/images/loading.gif" />'),$(".gallery .videos .video_container .video iframe").attr("src",new_url).fadeIn(200),$(".video .loading").remove()}"submit"==onchange&&$(this).parents("form").submit()})});var i_count=0;return $(".select_it").each(function(){i_count++,$(this).attr("id","select_"+i_count)}),$(document).click(function(){$(".select_it .display").removeClass("open"),$(".select_it ul").hide()}),this}}(jQuery);